@startuml
title Notification Flow (Mocked SNS + SQS)

actor "API Client" as Client
participant "FastAPI Service" as API
participant "Mock SNS" as SNS
participant "Mock SQS" as SQS
participant "PyQt6 Desktop App" as Desktop

Client -> API: POST /notifications\n(subject, message)

API -> API: validateRequest()

API -> SNS: publish(subject, message)

SNS -> SQS: sendMessage(payload)

loop Poll every 1s
    Desktop -> SQS: pollMessages()
    SQS --> Desktop: message(subject, message)
    Desktop -> Desktop: displayNotification()
end

@enduml
